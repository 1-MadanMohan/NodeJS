# ğŸš« Your Mistakes (with âœ… Fixes)

## 1. âŒ Used `shortid()` directly (invalid)
```js
const shortID = shortid(); // âŒ Error: shortid is not a function
```

âœ… Fix:
```js
const shortID = shortid.generate(); // âœ… Correct method
```

---

## 2. âŒ Forgot to enable JSON body parsing
You did not include:
```js
app.use(express.json()); // âŒ Missing
```

So `req.body` was `undefined` and caused:
```
TypeError: Cannot read properties of undefined (reading 'url')
```

âœ… Fix:
```js
app.use(express.json()); // âœ… Required to parse JSON body
```

---

## 3. âŒ Posted to wrong URL (trailing space)
You saw this error:
```
Cannot POST /urls%20
```

Which means:
```http
POST /urls<space>   // âŒ Not found
```

âœ… Fix:
Use this clean endpoint:
```http
POST http://localhost:3000/urls // âœ… Correct
```

---

## 4. âŒ Confusion between `url` and `redirectURL` in request body
In your schema:
```js
redirectURL: body.url // âœ… correct usage
```

But in some versions you had:
```js
redirectURL: body.redirectURL // âŒ incorrect (mismatch with validation)
```

âœ… Fix:
Keep it consistent:
```js
if (!body.url) return res.status(400).json({ error: 'URL is required' });
redirectURL: body.url; // âœ… consistent
```

---

## âœ… Result
Now your POST `/urls` route works perfectly and inserts into MongoDB ğŸ‰
